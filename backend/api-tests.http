### ============================================
### SipSpot API æµ‹è¯•é›†åˆ - REST Client ç‰ˆ
### ============================================

### 1ï¸âƒ£ é…ç½®ç¯å¢ƒå˜é‡ï¼ˆä¿®æ”¹è¿™é‡Œçš„å€¼ï¼‰
@baseUrl = http://localhost:5001/api
@email = abraham1@example.com
@password = new123456
@username = abraham2

### ============================================
### ğŸ” è®¤è¯ç›¸å…³æµ‹è¯•
### ============================================

### 2ï¸âƒ£ ç”¨æˆ·æ³¨å†Œ
# åŠŸèƒ½ï¼šåˆ›å»ºæ–°ç”¨æˆ·è´¦å·
# ç‚¹å‡»ä¸‹æ–¹çš„ "Send Request" å‘é€
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "username": "{{username}}",
  "email": "{{email}}",
  "password": "{{password}}"
}

### 3ï¸âƒ£ ç”¨æˆ·ç™»å½•ï¼ˆä¿å­˜ Tokenï¼‰
# åŠŸèƒ½ï¼šç™»å½•å¹¶è·å–è®¿é—®ä»¤ç‰Œ
# æˆåŠŸåï¼Œæ‰‹åŠ¨å¤åˆ¶å“åº”ä¸­çš„ token åˆ°ä¸‹é¢çš„ @token
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "identifier": "{{email}}",
  "password": "{{password}}"
}

### ğŸ“Œ æŠŠä¸Šé¢å“åº”ä¸­çš„ token å¤åˆ¶åˆ°è¿™é‡Œ
@token =eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MTQ2YThmYTgzODE3YTU4ZDI0ZGFkOSIsInJvbGUiOiJ1c2VyIiwidXNlcm5hbWUiOiJhYnJhaGFtMiIsImlhdCI6MTc2Mjk0NzgzMCwiZXhwIjoxNzYzNTUyNjMwfQ.I47dK08MTlrjXJqWaPfU0gcG_k3fKFPIELV228PDPNY

### 4ï¸âƒ£ è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
# åŠŸèƒ½ï¼šæŸ¥çœ‹ç™»å½•ç”¨æˆ·çš„è¯¦ç»†èµ„æ–™
# éœ€è¦ç™»å½•ï¼ˆä½¿ç”¨ä¸Šé¢çš„ tokenï¼‰
GET {{baseUrl}}/auth/me
Authorization: Bearer {{token}}

### 5ï¸âƒ£ æ›´æ–°ç”¨æˆ·èµ„æ–™
# åŠŸèƒ½ï¼šä¿®æ”¹ç”¨æˆ·åã€é‚®ç®±ã€å¤´åƒç­‰
PUT {{baseUrl}}/auth/me
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "username": "abraham2",
  "bio": "å’–å•¡çˆ±å¥½è€… â˜•"
}

### 6ï¸âƒ£ ä¿®æ”¹å¯†ç 
# åŠŸèƒ½ï¼šæ›´æ”¹è´¦æˆ·å¯†ç 
PUT {{baseUrl}}/auth/password
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "currentPassword": "{{password}}",
  "newPassword": "new123456"
}

### 7ï¸âƒ£ è¯·æ±‚å¯†ç é‡ç½®
# åŠŸèƒ½ï¼šå¿˜è®°å¯†ç æ—¶å‘é€é‡ç½®é‚®ä»¶
POST {{baseUrl}}/auth/forgot-password
Content-Type: application/json

{
  "email": "{{email}}"
}

### 8ï¸âƒ£ åˆ·æ–° Token
# åŠŸèƒ½ï¼šä½¿ç”¨ refresh token è·å–æ–°çš„è®¿é—®ä»¤ç‰Œ
@refreshToken =eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MTQ2YThmYTgzODE3YTU4ZDI0ZGFkOSIsImlhdCI6MTc2Mjk0NzgzMCwiZXhwIjoxNzY1NTM5ODMwfQ.WaUOwmv6fW4Ag4paazNzI0RyZd0ydRlqT5mYIngSAH8
POST {{baseUrl}}/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### 9ï¸âƒ£ ç™»å‡º
# åŠŸèƒ½ï¼šé€€å‡ºç™»å½•ï¼ˆæ¸…é™¤å®¢æˆ·ç«¯ tokenï¼‰
POST {{baseUrl}}/auth/logout
Authorization: Bearer {{token}}

### ============================================
### â˜• å’–å•¡åº—ç›¸å…³æµ‹è¯•
### ============================================

### ğŸ”Ÿ è·å–æ‰€æœ‰å’–å•¡åº—ï¼ˆåˆ†é¡µï¼‰
# åŠŸèƒ½ï¼šæµè§ˆå’–å•¡åº—åˆ—è¡¨
# å‚æ•°ï¼špage=é¡µç , limit=æ¯é¡µæ•°é‡, sort=æ’åºæ–¹å¼
GET {{baseUrl}}/cafes?page=1&limit=20&sort=-rating

### 1ï¸âƒ£1ï¸âƒ£ æœç´¢å’–å•¡åº—
# åŠŸèƒ½ï¼šæŒ‰åç§°æˆ–æè¿°æœç´¢
GET {{baseUrl}}/cafes/search?q=æ˜Ÿå·´å…‹&city=åŒ—äº¬&minRating=4

### 1ï¸âƒ£2ï¸âƒ£ é™„è¿‘çš„å’–å•¡åº—ï¼ˆåœ°ç†ä½ç½®æŸ¥è¯¢ï¼‰
# åŠŸèƒ½ï¼šæŸ¥æ‰¾æŒ‡å®šåæ ‡é™„è¿‘çš„åº—
# lng=ç»åº¦, lat=çº¬åº¦, distance=èŒƒå›´ï¼ˆç±³ï¼‰
GET {{baseUrl}}/cafes/nearby?lng=116.404&lat=39.915&distance=5000&limit=10

### 1ï¸âƒ£3ï¸âƒ£ è·å–è¯„åˆ†æœ€é«˜çš„å’–å•¡åº—
# åŠŸèƒ½ï¼šæŸ¥çœ‹ Top æ’è¡Œæ¦œ
GET {{baseUrl}}/cafes/top/rated?limit=10&city=åŒ—äº¬

### 1ï¸âƒ£4ï¸âƒ£ æŒ‰è®¾æ–½ç­›é€‰å’–å•¡åº—
# åŠŸèƒ½ï¼šæŸ¥æ‰¾æœ‰ WiFi å’Œæ’åº§çš„åº—
GET {{baseUrl}}/cafes/amenities/WiFi,Power%20Outlets?city=åŒ—äº¬&limit=20

### 1ï¸âƒ£5ï¸âƒ£ è·å–å•ä¸ªå’–å•¡åº—è¯¦æƒ…
# åŠŸèƒ½ï¼šæŸ¥çœ‹åº—é“ºå®Œæ•´ä¿¡æ¯ï¼ˆå«è¯„è®ºï¼‰
@cafeId = 691477799e6090115750563a
GET {{baseUrl}}/cafes/{{cafeId}}

### 1ï¸âƒ£6ï¸âƒ£ è·å–å’–å•¡åº—ç»Ÿè®¡æ•°æ®
# åŠŸèƒ½ï¼šæŸ¥çœ‹è¯„åˆ†åˆ†å¸ƒã€è®¿é—®é‡ç­‰
GET {{baseUrl}}/cafes/{{cafeId}}/stats

### 1ï¸âƒ£7ï¸âƒ£ åˆ›å»ºå’–å•¡åº—ï¼ˆéœ€è¦ç™»å½•ï¼‰
# åŠŸèƒ½ï¼šæ·»åŠ æ–°çš„å’–å•¡åº—
POST {{baseUrl}}/cafes
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "äº‘æœµå’–å•¡",
  "description": "ä¸€å®¶æ¸©é¦¨çš„ç²¾å“å’–å•¡åº—ï¼Œä¸“æ³¨æ‰‹å†²å’–å•¡ï¼Œç¯å¢ƒå®‰é™é€‚åˆå·¥ä½œå­¦ä¹ ã€‚",
  "address": "åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½è·¯88å·",
  "city": "åŒ—äº¬",
  "geometry": {
    "type": "Point",
    "coordinates": [116.404, 39.915]
  },
  "price": 3,
  "amenities": ["WiFi", "Power Outlets", "Quiet", "Laptop Friendly"],
  "specialty": "Pour Over",
  "phoneNumber": "010-12345678",
  "website": "https://example.com"
}

### 1ï¸âƒ£8ï¸âƒ£ æ›´æ–°å’–å•¡åº—ä¿¡æ¯ï¼ˆéœ€è¦æ˜¯åº—ä¸»æˆ–ç®¡ç†å‘˜ï¼‰
# åŠŸèƒ½ï¼šä¿®æ”¹åº—é“ºèµ„æ–™
PUT {{baseUrl}}/cafes/{{cafeId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "description": "æ›´æ–°åçš„æè¿°æ–‡å­—",
  "price": 2,
  "amenities": ["WiFi", "Outdoor Seating"]
}

### 1ï¸âƒ£9ï¸âƒ£ åˆ é™¤å’–å•¡åº—ï¼ˆéœ€è¦æ˜¯åº—ä¸»æˆ–ç®¡ç†å‘˜ï¼‰
# åŠŸèƒ½ï¼šåˆ é™¤åº—é“º
# âš ï¸ è°¨æ…æ“ä½œï¼ä¼šåŒæ—¶åˆ é™¤æ‰€æœ‰è¯„è®º
DELETE {{baseUrl}}/cafes/{{cafeId}}
Authorization: Bearer {{token}}

### 2ï¸âƒ£0ï¸âƒ£ æ”¶è—å’–å•¡åº—ï¼ˆéœ€è¦ç™»å½•ï¼‰
# åŠŸèƒ½ï¼šæ·»åŠ åˆ°æˆ‘çš„æ”¶è—
POST {{baseUrl}}/cafes/{{cafeId}}/favorite
Authorization: Bearer {{token}}

### 2ï¸âƒ£1ï¸âƒ£ å–æ¶ˆæ”¶è—ï¼ˆéœ€è¦ç™»å½•ï¼‰
# åŠŸèƒ½ï¼šä»æ”¶è—ä¸­ç§»é™¤
DELETE {{baseUrl}}/cafes/{{cafeId}}/favorite
Authorization: Bearer {{token}}

### ============================================
### â­ è¯„è®ºç›¸å…³æµ‹è¯•
### ============================================

### 2ï¸âƒ£2ï¸âƒ£ è·å–å’–å•¡åº—çš„æ‰€æœ‰è¯„è®º
# åŠŸèƒ½ï¼šæŸ¥çœ‹åº—é“ºè¯„è®ºåˆ—è¡¨
GET {{baseUrl}}/cafes/{{cafeId}}/reviews?page=1&limit=10&sort=-createdAt

### 2ï¸âƒ£3ï¸âƒ£ è·å–æœ€æœ‰å¸®åŠ©çš„è¯„è®º
# åŠŸèƒ½ï¼šæŸ¥çœ‹ç‚¹èµæœ€å¤šçš„è¯„è®º
GET {{baseUrl}}/cafes/{{cafeId}}/reviews/helpful?limit=5

### 2ï¸âƒ£4ï¸âƒ£ è·å–è¯„è®ºæƒ…æ„Ÿç»Ÿè®¡
# åŠŸèƒ½ï¼šæŸ¥çœ‹æ­£é¢/è´Ÿé¢/ä¸­æ€§è¯„è®ºå æ¯”
GET {{baseUrl}}/cafes/{{cafeId}}/reviews/sentiment

### 2ï¸âƒ£5ï¸âƒ£ è·å–å•ä¸ªè¯„è®ºè¯¦æƒ…
# åŠŸèƒ½ï¼šæŸ¥çœ‹æŸæ¡è¯„è®ºçš„å®Œæ•´å†…å®¹
@reviewId = 6914789f9e60901157505655
GET {{baseUrl}}/reviews/{{reviewId}}

### 2ï¸âƒ£6ï¸âƒ£ åˆ›å»ºè¯„è®ºï¼ˆéœ€è¦ç™»å½•ï¼‰
# åŠŸèƒ½ï¼šå‘è¡¨æ–°è¯„è®º
# âš ï¸ æ¯ä¸ªç”¨æˆ·å¯¹æ¯ä¸ªåº—åªèƒ½è¯„è®ºä¸€æ¬¡
POST {{baseUrl}}/cafes/{{cafeId}}/reviews
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "content": "è¿™å®¶åº—ç¯å¢ƒå¾ˆæ£’ï¼Œå’–å•¡å‘³é“ä¹Ÿä¸é”™ï¼ŒæœåŠ¡å‘˜æ€åº¦å¾ˆå¥½ã€‚å°±æ˜¯ä»·æ ¼ç¨å¾®æœ‰ç‚¹è´µï¼Œä½†æ€»ä½“æ¥è¯´å€¼å¾—æ¨èï¼",
  "rating": 4.5,
  "detailedRatings": {
    "coffee": 4.5,
    "ambience": 5,
    "service": 5,
    "value": 3.5
  },
  "visitDate": "2024-01-15"
}

### 2ï¸âƒ£7ï¸âƒ£ æ›´æ–°è¯„è®ºï¼ˆéœ€è¦æ˜¯è¯„è®ºä½œè€…ï¼‰
# åŠŸèƒ½ï¼šä¿®æ”¹è‡ªå·±çš„è¯„è®º
PUT {{baseUrl}}/reviews/{{reviewId}}
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "content": "æ›´æ–°åçš„è¯„è®ºå†…å®¹...",
  "rating": 5
}

### 2ï¸âƒ£8ï¸âƒ£ åˆ é™¤è¯„è®ºï¼ˆéœ€è¦æ˜¯è¯„è®ºä½œè€…æˆ–ç®¡ç†å‘˜ï¼‰
# åŠŸèƒ½ï¼šåˆ é™¤è¯„è®º
DELETE {{baseUrl}}/reviews/{{reviewId}}
Authorization: Bearer {{token}}

### 2ï¸âƒ£9ï¸âƒ£ ç»™è¯„è®ºæŠ•ç¥¨ï¼ˆæœ‰å¸®åŠ©/æ— å¸®åŠ©ï¼‰
# åŠŸèƒ½ï¼šæ ‡è®°è¯„è®ºæ˜¯å¦æœ‰ç”¨
POST {{baseUrl}}/reviews/{{reviewId}}/helpful
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "voteType": "helpful"
}

### 3ï¸âƒ£0ï¸âƒ£ å–æ¶ˆæŠ•ç¥¨
# åŠŸèƒ½ï¼šæ’¤é”€ä¹‹å‰çš„æŠ•ç¥¨
DELETE {{baseUrl}}/reviews/{{reviewId}}/helpful
Authorization: Bearer {{token}}

### 3ï¸âƒ£1ï¸âƒ£ ä¸¾æŠ¥è¯„è®ºï¼ˆéœ€è¦ç™»å½•ï¼‰
# åŠŸèƒ½ï¼šæ ‡è®°ä¸å½“è¯„è®º
POST {{baseUrl}}/reviews/{{reviewId}}/report
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "reason": "åŒ…å«ä¸å½“å†…å®¹"
}

### 3ï¸âƒ£2ï¸âƒ£ åº—ä¸»å›å¤è¯„è®ºï¼ˆéœ€è¦æ˜¯åº—ä¸»æˆ–ç®¡ç†å‘˜ï¼‰
# åŠŸèƒ½ï¼šå¯¹ç”¨æˆ·è¯„è®ºè¿›è¡Œå›åº”
POST {{baseUrl}}/reviews/{{reviewId}}/response
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "content": "æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä»¬ä¼šç»§ç»­åŠªåŠ›æä¾›æ›´å¥½çš„æœåŠ¡ã€‚"
}

### 3ï¸âƒ£3ï¸âƒ£ è§¦å‘ AI åˆ†æï¼ˆéœ€è¦ç™»å½•ï¼‰
# åŠŸèƒ½ï¼šä½¿ç”¨ Gemini AI åˆ†æè¯„è®ºæƒ…æ„Ÿ
POST {{baseUrl}}/reviews/{{reviewId}}/analyze
Authorization: Bearer {{token}}

### ============================================
### ğŸ”§ ç³»ç»Ÿæµ‹è¯•
### ============================================

### 3ï¸âƒ£4ï¸âƒ£ å¥åº·æ£€æŸ¥
# åŠŸèƒ½ï¼šæ£€æŸ¥æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€
GET http://localhost:5001/health

### 3ï¸âƒ£5ï¸âƒ£ API æ ¹è·¯å¾„
# åŠŸèƒ½ï¼šæŸ¥çœ‹ API ç‰ˆæœ¬å’Œç«¯ç‚¹åˆ—è¡¨
GET http://localhost:5001/api

### ============================================
### ğŸ“Š æ‰¹é‡æµ‹è¯•åœºæ™¯
### ============================================

### åœºæ™¯ 1: ç”¨æˆ·å®Œæ•´æµç¨‹
# 1. æ³¨å†Œ â†’ 2. ç™»å½• â†’ 3. æŸ¥çœ‹ä¸ªäººä¿¡æ¯ â†’ 4. æµè§ˆå’–å•¡åº— â†’ 5. åˆ›å»ºè¯„è®º

### åœºæ™¯ 2: æœç´¢å’Œç­›é€‰
# 1. æŒ‰åŸå¸‚æœç´¢ â†’ 2. æŒ‰è¯„åˆ†ç­›é€‰ â†’ 3. æŒ‰è·ç¦»æ’åº â†’ 4. æŒ‰è®¾æ–½è¿‡æ»¤

### åœºæ™¯ 3: è¯„è®ºäº’åŠ¨
# 1. å‘è¡¨è¯„è®º â†’ 2. AI åˆ†æ â†’ 3. æŠ•ç¥¨ â†’ 4. å›å¤ â†’ 5. ä¿®æ”¹

### ============================================
### ğŸ› é”™è¯¯æƒ…å†µæµ‹è¯•
### ============================================

### æµ‹è¯• 401 æœªæˆæƒé”™è¯¯
# ä¸å¸¦ token è®¿é—®éœ€è¦ç™»å½•çš„æ¥å£
GET {{baseUrl}}/auth/me

### æµ‹è¯• 400 æ•°æ®éªŒè¯é”™è¯¯
# å‘é€ä¸å®Œæ•´çš„æ³¨å†Œæ•°æ®
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "username": "ab"
}

### æµ‹è¯• 404 èµ„æºä¸å­˜åœ¨
# æŸ¥è¯¢ä¸å­˜åœ¨çš„å’–å•¡åº—
GET {{baseUrl}}/cafes/000000000000000000000000

### æµ‹è¯• 409 é‡å¤åˆ›å»ºé”™è¯¯
# ç”¨ç›¸åŒé‚®ç®±å†æ¬¡æ³¨å†Œ
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "username": "{{username}}",
  "email": "{{email}}",
  "password": "{{password}}"
}

### ============================================
### ğŸ’¡ ä½¿ç”¨æŠ€å·§
### ============================================

# 1. å¿«æ·é”®ï¼š
#    - Ctrl+Alt+R (Mac: Cmd+Alt+R): å‘é€å½“å‰è¯·æ±‚
#    - Ctrl+Alt+L (Mac: Cmd+Alt+L): å‘é€æ‰€æœ‰è¯·æ±‚ï¼ˆè°¨æ…ä½¿ç”¨ï¼ï¼‰

# 2. ç¯å¢ƒåˆ‡æ¢ï¼š
#    å¯ä»¥åœ¨æ–‡ä»¶é¡¶éƒ¨å®šä¹‰å¤šå¥—ç¯å¢ƒ
#    @baseUrl_dev = http://localhost:5000/api
#    @baseUrl_prod = https://api.sipspot.com

# 3. ä¿å­˜å“åº”ï¼š
#    ç‚¹å‡»å“åº”é¢æ¿å³ä¸Šè§’çš„ ğŸ’¾ å›¾æ ‡å¯ä»¥ä¿å­˜å“åº”åˆ°æ–‡ä»¶

# 4. æŸ¥çœ‹å†å²ï¼š
#    ç‚¹å‡»å“åº”é¢æ¿å³ä¸Šè§’çš„ ğŸ• å›¾æ ‡æŸ¥çœ‹è¯·æ±‚å†å²

# 5. å¯¼å…¥ cURLï¼š
#    å¯ä»¥ç›´æ¥ç²˜è´´ cURL å‘½ä»¤ï¼ŒREST Client ä¼šè‡ªåŠ¨è½¬æ¢

### ============================================
### ğŸ“ æµ‹è¯•æ£€æŸ¥æ¸…å•
### ============================================

# âœ… è®¤è¯åŠŸèƒ½
# [ ] æ³¨å†ŒæˆåŠŸ
# [ ] ç™»å½•æˆåŠŸå¹¶è·å– token
# [ ] è·å–ä¸ªäººä¿¡æ¯
# [ ] æ›´æ–°èµ„æ–™
# [ ] ä¿®æ”¹å¯†ç 

# âœ… å’–å•¡åº—åŠŸèƒ½
# [ ] è·å–åˆ—è¡¨
# [ ] æœç´¢
# [ ] åœ°ç†ä½ç½®æŸ¥è¯¢
# [ ] åˆ›å»ºï¼ˆéœ€ç™»å½•ï¼‰
# [ ] æ›´æ–°ï¼ˆéœ€æƒé™ï¼‰
# [ ] åˆ é™¤ï¼ˆéœ€æƒé™ï¼‰
# [ ] æ”¶è—/å–æ¶ˆæ”¶è—

# âœ… è¯„è®ºåŠŸèƒ½
# [ ] è·å–è¯„è®ºåˆ—è¡¨
# [ ] åˆ›å»ºè¯„è®º
# [ ] AI åˆ†æ
# [ ] æŠ•ç¥¨
# [ ] åº—ä¸»å›å¤
# [ ] åˆ é™¤

# âœ… é”™è¯¯å¤„ç†
# [ ] 401 æœªæˆæƒ
# [ ] 404 æœªæ‰¾åˆ°
# [ ] 400 éªŒè¯é”™è¯¯
# [ ] 409 å†²çª

###